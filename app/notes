Αν ένα βιβλίο έχει καταχωριστεί στην βιβλιοθήκη του σχολείου με copes > 0 τότε είναι διαθέσιμο για κράτηση ακόμα κι αν δεν υπάρχουν ελεύθερα. Αλλιώς δεν είναι διαθέσιμο.

Όταν ο χρήστης κάνει αίτηση για δανεισμό, το handler_username είναι null. Όταν ένας handler τ αποδεχτεί, η τούπλα παίρνει το δικό του username.

Στην επιστροφή δεν γίνεται update, αλλά μπαίνει νέα τούπλα με το handler_username που έκανε την επιστροφή.

Ένας χειριστής μπορεί να εγκρίνει δανεισμό κλπ αν ο χρήστης είναι από το ίδιο σχολείο, ανεξάρτητα από ποιο σχολείο δανείζεται. Αν δεν θέλουμε να ισχύει αυτό, μπορούμε να μην εμφανίζουμε επιλογή για δανεισμό από άλλα σχολεία.

Όταν γίνεται μια αίτηση για δανεισμό ή μια κράτηση, η διαθεσιμότητα εκείνου του βιβλίου από την συγκεκριμένη βιβλιοθήκη μειώνεται, άρα είμαστε σίγουροι ότι όταν ο χειριστής αποδεχτεί τον δανεισμό ή μετατρέψει την κράτηση σε δανεισμό τότε το βιβλίο αυτό υα είναι διαθέσιμο.

Κράτηση γίνεται μόνο αν δεν υπάρχει διαθέσιμο αντίτυπο. Αν ο χρήστης έχει δανειστεί 2 βιβλία, δεν μπορεί να κάνει κράτηση.

Οι κρατήσεις για πάνω από μια βδομάδα ακυρώνονται μόνες τους: trigger


